webpackJsonp([6],{"0VGv":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("fZjL"),r=s.n(n),i={props:{timeout:{type:Number,default:600}},data:function(){return{query:null,signal:null}},methods:{listen:function(){this.signal&&clearTimeout(this.signal),this.signal=this.waitToEmit()},waitToEmit:function(){var t=this;return setTimeout(function(){t.$parent.$emit("search-query",t.query.toLowerCase())},this.timeout)}}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-group input-group-seamless"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search..."},domProps:{value:t.query},on:{input:[function(e){e.target.composing||(t.query=e.target.value)},t.listen]}}),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-append"},[e("div",{staticClass:"input-group-text"},[e("i",{staticClass:"fa fa-search"})])])}]},o=s("VU/8")(i,a,!1,null,null,null).exports,u={props:{items:{type:Array,required:!0,deep:!0},type:{type:String,required:!0}},methods:{remove:function(t){this.$parent.$emit("remove",t)}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",{staticClass:"table"},[t._m(0),t._v(" "),s("tbody",t._l(t.items,function(e,n){return s("tr",{key:"item-"+n},[s("td",{attrs:{scope:"row"}},[t._v(t._s(e.title))]),t._v(" "),s("td",[t._v(t._s(t._f("capitalize")(e.tag)))]),t._v(" "),s("td",[s("router-link",{staticClass:"btn btn-outline-primary btn-pill btn-sm py-1 mr-3",attrs:{tag:"button",to:{name:"edit-"+t.type,params:{id:e.id}},custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.navigate;return[s("span",{attrs:{role:"link"},on:{click:n,keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:n.apply(null,arguments)}}},[s("i",{staticClass:"fa fa-edit mr-2"}),t._v("\n\t\t\t\t\t\tEdit\n\t\t\t\t\t")])]}}],null,!0)}),t._v(" "),s("button",{staticClass:"btn btn-outline-danger btn-pill btn-sm py-1",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),t.remove(e)}}},[s("i",{staticClass:"fa fa-trash mr-2"}),t._v("\n\t\t\t\t\t\t\tDelete\n\t\t\t\t")])],1)])}),0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[this._v("Title")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Tag")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Actions")])])])}]},c=s("VU/8")(u,l,!1,null,null,null).exports,p={props:{type:{type:String,required:!0}},data:function(){return{items:[],query:null}},watch:{$route:"sync"},mounted:function(){var t=this;this.sync(),this.$on("search-query",function(e){return t.query=e}),this.$on("remove",this.remove)},methods:{filter:function(){var t=this,e=this.items;return this.query&&(e=this.items.filter(function(e){var s=e.title.toLowerCase().includes(t.query),n=!1;return n=Array.isArray(e.tag)?e.tag.filter(function(e){return e.toLowerCase().includes(t.query)}).length>0:e.tag.toLowerCase().includes(t.query),s||n})),e},sync:function(){var t=this;this.items=[];var e=this.type+"s";this.$database.get(e).then(function(e){e&&r()(e).forEach(function(s){var n=e[s];n.id=s,t.items.push(n)})}).catch(function(e){t.$eventbus.$emit("alert",{type:"danger",message:"Error synchronizing stacks. Check console for more details"}),console.error(e)})},remove:function(t){var e=this;if(t){var s=this.type+"s/"+t.id;this.$database.remove(s).then(function(){e.$eventbus.$emit("alert",{type:"success",message:"stack deleted!"}),e.items.forEach(function(s,n){s.id===t.id&&e.items.splice(n,1)})}).catch(function(t){e.$eventbus.$emit("alert",{type:"danger",message:"Error deleting stack. Check console for more details"}),console.error(t)})}}},components:{SearchInput:o,SourcesList:c}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"row justify-content-between mb-3 px-3"},[s("h4",{staticClass:"card-title"},[s("i",{staticClass:"fas fa-database mr-2"}),t._v("\n\t\t\t\t"+t._s(t._f("capitalize")(t.type))+"s\n\t\t\t")]),t._v(" "),s("div",{staticClass:"col-auto"},[s("router-link",{staticClass:"btn btn-primary btn-pill btn-sm",attrs:{to:{name:"new-"+t.type},tag:"button",type:"button",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.navigate;return[s("span",{attrs:{role:"link"},on:{click:n,keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:n.apply(null,arguments)}}},[s("i",{staticClass:"fa fa-plus mr-2"}),t._v("\n\t\t\t\t\t\tAdd new "+t._s(t.type)+"\n\t\t\t\t\t")])]}}])})],1)]),t._v(" "),s("div",{staticClass:"my-5"},[s("SearchInput",{attrs:{timeout:400}})],1),t._v(" "),0==t.items.length?s("p",{staticClass:"card-text"},[t._v("No "+t._s(t.type)+"s stored on database. Create one now!")]):t._e(),t._v(" "),t.filter().length?s("div",{staticClass:"table-responsive"},[s("SourcesList",{attrs:{type:t.type,items:t.filter()}})],1):t._e()])])},staticRenderFns:[]},f=s("VU/8")(p,d,!1,null,null,null);e.default=f.exports},Cdx3:function(t,e,s){var n=s("sB3e"),r=s("lktj");s("uqUo")("keys",function(){return function(t){return r(n(t))}})},fZjL:function(t,e,s){t.exports={default:s("jFbC"),__esModule:!0}},jFbC:function(t,e,s){s("Cdx3"),t.exports=s("FeBl").Object.keys},uqUo:function(t,e,s){var n=s("kM2E"),r=s("FeBl"),i=s("S82l");t.exports=function(t,e){var s=(r.Object||{})[t]||Object[t],a={};a[t]=e(s),n(n.S+n.F*i(function(){s(1)}),"Object",a)}}});
//# sourceMappingURL=6.8d3778016757bf9be3c4.js.map